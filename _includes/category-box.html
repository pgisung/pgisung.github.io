<div class="category-box">
  <div class="wrapper-content">
    {% capture site_categories %}{% for category in site.categories %}{{ category | first }}{% unless forloop.last %},{% endunless %}{% endfor %}{% endcapture %}
    {% assign category_words = site_categories | split:',' | sort %}

    {% for item in (0..site.categories.size) %}{% unless forloop.last %}
      {% capture this_word %}{{ category_words[item] | strip_newlines }}{% endcapture %}
      <div class="category-element">
        <a href="{{ site.baseurl }}/categories/{{ this_word | replace: ' ', '-' | cgi_escape | downcase }}" class="category-link" title="Navigate to {{ this_word }} category">
          <img src="/images/pages/{{ this_word | replace: ' ', '-' | cgi_escape | downcase }}.png" class="category-icon"></img>
          <div class="category-title">{{ this_word }}</div>
          <div class="article-count">{{ site.categories[this_word].size }} Articles</div>
        </a>
      </div>
    {% endunless %}{% endfor %}
  </div>
</div> <!-- /.category-box -->